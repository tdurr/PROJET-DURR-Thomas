<section id="form-section">

    <form id="form" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <fieldset>
            <legend id="form-title">Connexion</legend>

            <input formControlName="login" class="inputs form-control" type="text" id="login" placeholder="Login">
        
            <div *ngIf="login.invalid && (login.dirty || login.touched)" class="error"> 
                <p *ngIf="login.errors.required">Veuillez renseigner votre identifiant.</p>
            </div> 

            <div class="input-group mb-3 div-pw">
                <input formControlName="password" class="inputs form-control" [type]="hide ? 'password' : 'text'" id="password" placeholder="Mot de passe">
                <div class="input-group-append">
                    <a class="btn btn-outline-secondary" (click)="showPassword()">Afficher</a>
                </div>
            </div>
              
            <div *ngIf="password.invalid && (password.dirty || password.touched)" class="error"> 
                <p *ngIf="password.errors.required">Veuillez renseigner votre mot de passe.</p>
            </div> 

            <button type="submit" id="btn-submit" class="btn btn-primary btn-lg btn-block" [disabled]="!loginForm.valid">Se connecter</button>

            <div *ngIf="loginForm.invalid && isSubmitted" class="error"> 
                <p *ngIf="loginForm.errors && loginForm.errors.accessDenied">Informations invalides</p>
                <p *ngIf="loginForm.errors && loginForm.errors.apiError">Problème de liaison avec l'API</p>
            </div> 

        </fieldset>
    </form>

    <br>
    <h4>Pour tester success faire <code>tdr</code> / <code>P@$$w0rd</code> (user existant en base) ou créer un compte personnel</h4>
</section>